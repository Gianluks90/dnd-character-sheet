<div class="tab-actions-container">
    <button (click)="collapseAll()">
        <div class="material-symbols-outlined">unfold_less</div>
    </button>
    <button (click)="openAddDialog()">
        <div class="material-symbols-outlined">add</div>
    </button>
</div>
@for(group of privilegeGroups; track $index) {
    <div as-section-title>{{group.tag}}</div>
    <div class="privileges-container">
        @for(p of group.privileges; track $index) {
            <details class="privilege-details" id="details-t">
                <summary>{{p.nome}}</summary>
                <div class="privilege-info-container">
                    @if(p.tipologia !== '') {
                        <p>{{p.tipologia}}</p>
                    }
                    @if(p.riferimento !== '') {
                        <p>({{p.riferimento}})</p>
                    }
                </div>
                <p>{{p.descrizione}}</p>
                @if (p.bonuses.length > 0) {
                    <div class="bonuses-container">
                        @for(b of p.bonuses; track $index) {
                            <div class="bonus-item">
                                <span class="material-symbols-outlined">{{b.value > 0 ? 'keyboard_double_arrow_up' : 'keyboard_double_arrow_down'}}</span>{{b | bonusString}}
                            </div>
                        }
                    </div>
                }
            </details>
        }
    </div>
}